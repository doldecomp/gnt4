.include "macros.inc"

.section .text  # 0x801FA184 - 0x801FA458

.global sndRand
sndRand:
/* 801FA184 001F7184  3C 60 A8 35 */	lis r3, 0xA8351D63@ha
/* 801FA188 001F7188  80 8D 86 98 */	lwz r4, lbl_80276FB8@sda21(r13)
/* 801FA18C 001F718C  38 03 1D 63 */	addi r0, r3, 0xA8351D63@l
/* 801FA190 001F7190  7C 04 01 D6 */	mullw r0, r4, r0
/* 801FA194 001F7194  90 0D 86 98 */	stw r0, lbl_80276FB8@sda21(r13)
/* 801FA198 001F7198  54 03 D4 3E */	rlwinm r3, r0, 0x1a, 0x10, 0x1f
/* 801FA19C 001F719C  4E 80 00 20 */	blr 

.global sndSin
sndSin:
/* 801FA1A0 001F71A0  54 60 05 3E */	clrlwi r0, r3, 0x14
/* 801FA1A4 001F71A4  28 00 04 00 */	cmplwi r0, 0x400
/* 801FA1A8 001F71A8  40 80 00 18 */	bge lbl_801FA1C0
/* 801FA1AC 001F71AC  3C 60 80 22 */	lis r3, lbl_802202F0@ha
/* 801FA1B0 001F71B0  54 00 0B FC */	rlwinm r0, r0, 1, 0xf, 0x1e
/* 801FA1B4 001F71B4  38 63 02 F0 */	addi r3, r3, lbl_802202F0@l
/* 801FA1B8 001F71B8  7C 63 02 AE */	lhax r3, r3, r0
/* 801FA1BC 001F71BC  4E 80 00 20 */	blr 
lbl_801FA1C0:
/* 801FA1C0 001F71C0  28 00 08 00 */	cmplwi r0, 0x800
/* 801FA1C4 001F71C4  40 80 00 20 */	bge lbl_801FA1E4
/* 801FA1C8 001F71C8  54 00 05 BE */	clrlwi r0, r0, 0x16
/* 801FA1CC 001F71CC  3C 60 80 22 */	lis r3, lbl_802202F0@ha
/* 801FA1D0 001F71D0  20 00 03 FF */	subfic r0, r0, 0x3ff
/* 801FA1D4 001F71D4  54 00 08 3C */	slwi r0, r0, 1
/* 801FA1D8 001F71D8  38 63 02 F0 */	addi r3, r3, lbl_802202F0@l
/* 801FA1DC 001F71DC  7C 63 02 AE */	lhax r3, r3, r0
/* 801FA1E0 001F71E0  4E 80 00 20 */	blr 
lbl_801FA1E4:
/* 801FA1E4 001F71E4  28 00 0C 00 */	cmplwi r0, 0xc00
/* 801FA1E8 001F71E8  40 80 00 20 */	bge lbl_801FA208
/* 801FA1EC 001F71EC  3C 60 80 22 */	lis r3, lbl_802202F0@ha
/* 801FA1F0 001F71F0  54 00 0D 7C */	rlwinm r0, r0, 1, 0x15, 0x1e
/* 801FA1F4 001F71F4  38 63 02 F0 */	addi r3, r3, lbl_802202F0@l
/* 801FA1F8 001F71F8  7C 03 02 AE */	lhax r0, r3, r0
/* 801FA1FC 001F71FC  7C 00 00 D0 */	neg r0, r0
/* 801FA200 001F7200  7C 03 07 34 */	extsh r3, r0
/* 801FA204 001F7204  4E 80 00 20 */	blr 
lbl_801FA208:
/* 801FA208 001F7208  54 00 05 BE */	clrlwi r0, r0, 0x16
/* 801FA20C 001F720C  3C 60 80 22 */	lis r3, lbl_802202F0@ha
/* 801FA210 001F7210  20 00 03 FF */	subfic r0, r0, 0x3ff
/* 801FA214 001F7214  54 00 08 3C */	slwi r0, r0, 1
/* 801FA218 001F7218  38 63 02 F0 */	addi r3, r3, lbl_802202F0@l
/* 801FA21C 001F721C  7C 03 02 AE */	lhax r0, r3, r0
/* 801FA220 001F7220  7C 00 00 D0 */	neg r0, r0
/* 801FA224 001F7224  7C 03 07 34 */	extsh r3, r0
/* 801FA228 001F7228  4E 80 00 20 */	blr 

.global sndBSearch
sndBSearch:
/* 801FA22C 001F722C  94 21 FF D0 */	stwu r1, -0x30(r1)
/* 801FA230 001F7230  7C 08 02 A6 */	mflr r0
/* 801FA234 001F7234  90 01 00 34 */	stw r0, 0x34(r1)
/* 801FA238 001F7238  39 61 00 30 */	addi r11, r1, 0x30
/* 801FA23C 001F723C  4B F9 40 35 */	bl _savegpr_24
/* 801FA240 001F7240  2C 05 00 00 */	cmpwi r5, 0
/* 801FA244 001F7244  7C 78 1B 78 */	mr r24, r3
/* 801FA248 001F7248  7C 99 23 78 */	mr r25, r4
/* 801FA24C 001F724C  7C DA 33 78 */	mr r26, r6
/* 801FA250 001F7250  7C FB 3B 78 */	mr r27, r7
/* 801FA254 001F7254  41 82 00 60 */	beq lbl_801FA2B4
/* 801FA258 001F7258  3B E0 00 01 */	li r31, 1
/* 801FA25C 001F725C  7C BE 2B 78 */	mr r30, r5
lbl_801FA260:
/* 801FA260 001F7260  7C 1F F2 14 */	add r0, r31, r30
/* 801FA264 001F7264  7F 6C DB 78 */	mr r12, r27
/* 801FA268 001F7268  7C 1D 0E 70 */	srawi r29, r0, 1
/* 801FA26C 001F726C  7F 03 C3 78 */	mr r3, r24
/* 801FA270 001F7270  38 1D FF FF */	addi r0, r29, -1
/* 801FA274 001F7274  7C 1A 01 D6 */	mullw r0, r26, r0
/* 801FA278 001F7278  7F 99 02 14 */	add r28, r25, r0
/* 801FA27C 001F727C  7F 84 E3 78 */	mr r4, r28
/* 801FA280 001F7280  7D 89 03 A6 */	mtctr r12
/* 801FA284 001F7284  4E 80 04 21 */	bctrl 
/* 801FA288 001F7288  2C 03 00 00 */	cmpwi r3, 0
/* 801FA28C 001F728C  40 82 00 0C */	bne lbl_801FA298
/* 801FA290 001F7290  7F 83 E3 78 */	mr r3, r28
/* 801FA294 001F7294  48 00 00 24 */	b lbl_801FA2B8
lbl_801FA298:
/* 801FA298 001F7298  40 80 00 08 */	bge lbl_801FA2A0
/* 801FA29C 001F729C  3B DD FF FF */	addi r30, r29, -1
lbl_801FA2A0:
/* 801FA2A0 001F72A0  54 60 0F FF */	rlwinm. r0, r3, 1, 0x1f, 0x1f
/* 801FA2A4 001F72A4  40 82 00 08 */	bne lbl_801FA2AC
/* 801FA2A8 001F72A8  3B FD 00 01 */	addi r31, r29, 1
lbl_801FA2AC:
/* 801FA2AC 001F72AC  7C 1F F0 00 */	cmpw r31, r30
/* 801FA2B0 001F72B0  40 81 FF B0 */	ble lbl_801FA260
lbl_801FA2B4:
/* 801FA2B4 001F72B4  38 60 00 00 */	li r3, 0
lbl_801FA2B8:
/* 801FA2B8 001F72B8  39 61 00 30 */	addi r11, r1, 0x30
/* 801FA2BC 001F72BC  4B F9 40 01 */	bl _restgpr_24
/* 801FA2C0 001F72C0  80 01 00 34 */	lwz r0, 0x34(r1)
/* 801FA2C4 001F72C4  7C 08 03 A6 */	mtlr r0
/* 801FA2C8 001F72C8  38 21 00 30 */	addi r1, r1, 0x30
/* 801FA2CC 001F72CC  4E 80 00 20 */	blr 

.global sndSqrt
sndSqrt:
/* 801FA2D0 001F72D0  3C 60 80 20 */	lis r3, lbl_80205B10@ha
/* 801FA2D4 001F72D4  C0 63 5B 10 */	lfs f3, lbl_80205B10@l(r3)
/* 801FA2D8 001F72D8  C0 03 5B 08 */	lfs f0, 0x5b08(r3)
/* 801FA2DC 001F72DC  C0 43 5B 0C */	lfs f2, 0x5b0c(r3)
/* 801FA2E0 001F72E0  FC 01 18 40 */	.byte 0xFC, 0x01, 0x18, 0x40  /* unknown instruction */
/* 801FA2E4 001F72E4  FC 60 08 34 */	frsqrte f3, f1
/* 801FA2E8 001F72E8  4D 82 00 20 */	beqlr 
/* 801FA2EC 001F72EC  FC 83 00 F2 */	fmul f4, f3, f3
/* 801FA2F0 001F72F0  FC 63 00 B2 */	fmul f3, f3, f2
/* 801FA2F4 001F72F4  FC 81 01 3C */	fnmsub f4, f1, f4, f0
/* 801FA2F8 001F72F8  FC 63 01 32 */	fmul f3, f3, f4
/* 801FA2FC 001F72FC  FC 83 00 F2 */	fmul f4, f3, f3
/* 801FA300 001F7300  FC 63 00 B2 */	fmul f3, f3, f2
/* 801FA304 001F7304  FC 81 01 3C */	fnmsub f4, f1, f4, f0
/* 801FA308 001F7308  FC 63 01 32 */	fmul f3, f3, f4
/* 801FA30C 001F730C  FC 83 00 F2 */	fmul f4, f3, f3
/* 801FA310 001F7310  FC 63 00 B2 */	fmul f3, f3, f2
/* 801FA314 001F7314  FC 81 01 3C */	fnmsub f4, f1, f4, f0
/* 801FA318 001F7318  FC 63 01 32 */	fmul f3, f3, f4
/* 801FA31C 001F731C  FC 21 00 F2 */	fmul f1, f1, f3
/* 801FA320 001F7320  4E 80 00 20 */	blr 

.global sndCos
sndCos:
/* 801FA324 001F7324  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801FA328 001F7328  3C 60 80 20 */	lis r3, lbl_80205B14@ha
/* 801FA32C 001F732C  38 80 00 0C */	li r4, 0xc
/* 801FA330 001F7330  38 63 5B 14 */	addi r3, r3, lbl_80205B14@l
/* 801FA334 001F7334  E0 C3 00 10 */	psq_l p6, 16(r3), 0, qr0
/* 801FA338 001F7338  E1 83 00 18 */	psq_l p12, 24(r3), 0, qr0
/* 801FA33C 001F733C  3C E0 80 28 */	lis r7, lbl_8027C4E8@ha
/* 801FA340 001F7340  10 21 30 54 */	ps_sum0 p1, p1, p1, p6
/* 801FA344 001F7344  C8 67 C4 E8 */	lfd f3, lbl_8027C4E8@l(r7)
/* 801FA348 001F7348  11 66 34 A0 */	ps_merge10 p11, p6, p6
/* 801FA34C 001F734C  FC 81 60 40 */	.byte 0xFC, 0x81, 0x60, 0x40  /* unknown instruction */
/* 801FA350 001F7350  3C C0 43 30 */	lis r6, 0x4330
/* 801FA354 001F7354  E0 03 00 00 */	psq_l p0, 0(r3), 0, qr0
/* 801FA358 001F7358  E0 43 00 08 */	psq_l p2, 8(r3), 0, qr0
/* 801FA35C 001F735C  FC 20 0A 10 */	fabs f1, f1
/* 801FA360 001F7360  EC 21 01 B2 */	fmuls f1, f1, f6
/* 801FA364 001F7364  90 C1 00 08 */	stw r6, 8(r1)
/* 801FA368 001F7368  FC E0 08 1E */	fctiwz f7, f1
/* 801FA36C 001F736C  7C E1 27 AE */	stfiwx f7, r1, r4
/* 801FA370 001F7370  80 A1 00 0C */	lwz r5, 0xc(r1)
/* 801FA374 001F7374  54 A7 F8 7E */	srwi r7, r5, 1
/* 801FA378 001F7378  6C A6 80 00 */	xoris r6, r5, 0x8000
/* 801FA37C 001F737C  7C E7 2A 78 */	xor r7, r7, r5
/* 801FA380 001F7380  90 C1 00 0C */	stw r6, 0xc(r1)
/* 801FA384 001F7384  70 E7 00 01 */	andi. r7, r7, 1
/* 801FA388 001F7388  C8 E1 00 08 */	lfd f7, 8(r1)
/* 801FA38C 001F738C  4E 80 00 00 */	mcrf cr5, cr0
/* 801FA390 001F7390  EC E7 18 28 */	fsubs f7, f7, f3
/* 801FA394 001F7394  EC 21 38 28 */	fsubs f1, f1, f7
/* 801FA398 001F7398  70 A5 00 01 */	andi. r5, r5, 1
/* 801FA39C 001F739C  10 21 01 9A */	ps_muls1 p1, p1, p6
/* 801FA3A0 001F73A0  41 82 00 08 */	beq lbl_801FA3A8
/* 801FA3A4 001F73A4  EC 21 58 28 */	fsubs f1, f1, f11
lbl_801FA3A8:
/* 801FA3A8 001F73A8  EC 81 00 72 */	fmuls f4, f1, f1
/* 801FA3AC 001F73AC  41 96 00 08 */	beq cr5, lbl_801FA3B4
/* 801FA3B0 001F73B0  10 20 08 50 */	ps_neg p1, p1
lbl_801FA3B4:
/* 801FA3B4 001F73B4  EC A4 01 32 */	fmuls f5, f4, f4
/* 801FA3B8 001F73B8  11 00 00 58 */	ps_muls0 p8, p0, p1
/* 801FA3BC 001F73BC  11 22 00 58 */	ps_muls0 p9, p2, p1
/* 801FA3C0 001F73C0  11 41 03 1A */	ps_muls1 p10, p1, p12
/* 801FA3C4 001F73C4  11 29 01 58 */	ps_muls0 p9, p9, p5
/* 801FA3C8 001F73C8  ED 4A 01 72 */	fmuls f10, f10, f5
/* 801FA3CC 001F73CC  11 29 01 18 */	ps_muls0 p9, p9, p4
/* 801FA3D0 001F73D0  EC 28 09 3A */	fmadds f1, f8, f4, f1
/* 801FA3D4 001F73D4  ED 4A 01 72 */	fmuls f10, f10, f5
/* 801FA3D8 001F73D8  10 25 0A 1E */	ps_madds1 p1, p5, p8, p1
/* 801FA3DC 001F73DC  EC 21 48 2A */	fadds f1, f1, f9
/* 801FA3E0 001F73E0  10 24 0A 5E */	ps_madds1 p1, p4, p9, p1
/* 801FA3E4 001F73E4  EC 2A 09 3A */	fmadds f1, f10, f4, f1
/* 801FA3E8 001F73E8  40 84 00 08 */	bge cr1, lbl_801FA3F0
/* 801FA3EC 001F73EC  10 20 08 50 */	ps_neg p1, p1
lbl_801FA3F0:
/* 801FA3F0 001F73F0  38 21 00 10 */	addi r1, r1, 0x10
/* 801FA3F4 001F73F4  4E 80 00 20 */	blr 

.global sndConvertMs
sndConvertMs:
/* 801FA3F8 001F73F8  80 03 00 00 */	lwz r0, 0(r3)
/* 801FA3FC 001F73FC  54 00 40 2E */	slwi r0, r0, 8
/* 801FA400 001F7400  90 03 00 00 */	stw r0, 0(r3)
/* 801FA404 001F7404  4E 80 00 20 */	blr 

.global sndConvertTicks
sndConvertTicks:
/* 801FA408 001F7408  94 21 FF F0 */	stwu r1, -0x10(r1)
/* 801FA40C 001F740C  7C 08 02 A6 */	mflr r0
/* 801FA410 001F7410  90 01 00 14 */	stw r0, 0x14(r1)
/* 801FA414 001F7414  93 E1 00 0C */	stw r31, 0xc(r1)
/* 801FA418 001F7418  7C 7F 1B 78 */	mr r31, r3
/* 801FA41C 001F741C  7C 83 23 78 */	mr r3, r4
/* 801FA420 001F7420  4B FE 94 C5 */	bl synthGetTicksPerSecond
/* 801FA424 001F7424  80 1F 00 00 */	lwz r0, 0(r31)
/* 801FA428 001F7428  54 00 80 1E */	slwi r0, r0, 0x10
/* 801FA42C 001F742C  7C 00 1B 96 */	divwu r0, r0, r3
/* 801FA430 001F7430  1C 00 03 E8 */	mulli r0, r0, 0x3e8
/* 801FA434 001F7434  54 00 D9 7E */	srwi r0, r0, 5
/* 801FA438 001F7438  90 1F 00 00 */	stw r0, 0(r31)
/* 801FA43C 001F743C  83 E1 00 0C */	lwz r31, 0xc(r1)
/* 801FA440 001F7440  80 01 00 14 */	lwz r0, 0x14(r1)
/* 801FA444 001F7444  7C 08 03 A6 */	mtlr r0
/* 801FA448 001F7448  38 21 00 10 */	addi r1, r1, 0x10
/* 801FA44C 001F744C  4E 80 00 20 */	blr 

.global sndConvert2Ms
sndConvert2Ms:
/* 801FA450 001F7450  54 63 C2 3E */	srwi r3, r3, 8
/* 801FA454 001F7454  4E 80 00 20 */	blr 
